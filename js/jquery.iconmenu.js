(function(b){var a={init:function(c){if(this.length){var d={animMouseenter:{mText:{speed:350,easing:"easeOutExpo",delay:140,dir:1},sText:{speed:350,easing:"easeOutExpo",delay:0,dir:1},icon:{speed:350,easing:"easeOutExpo",delay:280,dir:1}},animMouseleave:{mText:{speed:300,easing:"easeInExpo",delay:140,dir:1},sText:{speed:300,easing:"easeInExpo",delay:280,dir:1},icon:{speed:300,easing:"easeInExpo",delay:0,dir:1}},boxAnimSpeed:300,defaultTextColor:"#000",defaultBgColor:"#fff"};return this.each(function(){if(c){b.extend(d,c)}var e=b(this),h=e.children("li"),g=Math.max(d.animMouseleave.mText.speed+d.animMouseleave.mText.delay,d.animMouseleave.sText.speed+d.animMouseleave.sText.delay,d.animMouseleave.icon.speed+d.animMouseleave.icon.delay),f;h.find(".sti-item").each(function(){var i=b(this);i.data("deftop",i.position().top)});h.bind("mouseenter",function(m){clearTimeout(f);var i=b(this),l=i.children("a"),j=l.height(),k=l.find(".sti-item"),n=i.data("hovercolor");f=setTimeout(function(){i.addClass("sti-current");k.each(function(s){var p=b(this),o=p.data("type"),u=d.animMouseenter[o].speed,v=d.animMouseenter[o].easing,r=d.animMouseenter[o].delay,q=d.animMouseenter[o].dir,t={top:-q*j+"px"};if(o==="icon"){t.backgroundPosition="bottom left"}else{t.color=n}p.hide().css(t).show();clearTimeout(p.data("time_anim"));p.data("time_anim",setTimeout(function(){p.stop(true).animate({top:p.data("deftop")+"px"},u,v)},r))});l.stop(true).animate({backgroundColor:d.defaultTextColor},d.boxAnimSpeed)},100)}).bind("mouseleave",function(m){clearTimeout(f);var i=b(this),l=i.children("a"),j=l.height(),k=l.find(".sti-item");if(!i.hasClass("sti-current")){return false}i.removeClass("sti-current");k.each(function(r){var o=b(this),n=o.data("type"),s=d.animMouseleave[n].speed,t=d.animMouseleave[n].easing,q=d.animMouseleave[n].delay,p=d.animMouseleave[n].dir;clearTimeout(o.data("time_anim"));setTimeout(function(){o.stop(true).animate({top:-p*j+"px"},s,t,function(){if(q+s===g){l.stop(true).animate({backgroundColor:d.defaultBgColor},d.boxAnimSpeed);k.each(function(v){var u=b(this),w={top:u.data("deftop")+"px"};if(u.data("type")==="icon"){w.backgroundPosition="top left"}else{w.color=d.defaultTextColor}u.hide().css(w).show()})}})},q)})})})}}};b.fn.iconmenu=function(c){if(a[c]){return a[c].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof c==="object"||!c){return a.init.apply(this,arguments)}else{b.error("Method "+c+" does not exist on jQuery.iconmenu")}}}})(jQuery);
